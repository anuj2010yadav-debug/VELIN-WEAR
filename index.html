<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Velin Wear — Single-file Offline E-commerce (B)</title>

<!-- Inlined CSS: recreates the Tailwind-like look used earlier but fully embedded -->
<style>
  /* Basic resets */
  :root{
    --bg:#0b0b0c; --panel:#1f1f22; --muted:#9ca3af; --muted-2:#6b7280;
    --accent:#06b6d4; --accent-2:#34d399; --white:#ffffff; --card:#27272a;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    background:var(--bg);
    color: #e6edf3;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.4;
  }

  a { color:inherit; text-decoration:none; }
  img { display:block; max-width:100%; }

  /* Container */
  .container{max-width:1100px; margin:0 auto; padding:20px;}

  /* Announcement */
  .announce{background:#000;padding:8px 16px;text-align:center;font-size:13px;font-weight:600}

  /* Header */
  header{
    position:sticky; top:0; z-index:40;
    background:rgba(11,11,12,0.9); backdrop-filter:blur(6px);
    border-bottom:1px solid #3f3f46;
  }
  .nav{
    display:flex; align-items:center; justify-content:space-between;
    max-width:1100px; margin:0 auto; padding:12px 20px;
  }
  .brand{font-weight:800; letter-spacing:2px; font-size:18px; color:var(--white)}
  .nav-links{display:flex; gap:14px; align-items:center}
  .nav-links a{color:#cbd5e1; font-size:14px; padding:8px 10px; border-radius:8px}
  .nav-links a:hover{color:var(--white); background:#111213}

  .icon-btn{background:#111215; border-radius:8px; padding:8px; display:inline-flex; align-items:center; justify-content:center}
  .cart-count{position:relative; display:inline-block; margin-left:-10px;top:-8px; background:#ef4444; color:white; width:20px;height:20px;border-radius:999px;font-size:12px;display:flex;align-items:center;justify-content:center}

  /* Hero */
  .hero{display:flex; gap:24px; align-items:center; padding:36px 20px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02)); border-bottom:1px solid #2b2b2d}
  .hero-left{flex:1}
  .hero-title{font-size:36px; font-weight:800; margin:0; line-height:1.02}
  .hero-sub{color:var(--muted); margin-top:8px; max-width:640px}
  .cta-group{margin-top:18px; display:flex; gap:12px}
  .btn{background:var(--white); color:#0b0b0c; padding:12px 20px; border-radius:999px; font-weight:700; cursor:pointer}
  .btn.secondary{background:transparent; border:1px solid #2b2b2d; color:var(--white)}

  .hero-right{width:420px; max-width:40%; border-radius:12px; overflow:hidden; background:#111213; box-shadow:0 8px 30px rgba(0,0,0,0.6)}
  .hero-img{width:420px;height:270px; display:block; object-fit:cover}

  /* Sections */
  section{padding:34px 0}
  h2.section-title{font-size:22px; margin:0 0 14px 0; font-weight:800}

  /* Grid */
  .grid{display:grid; gap:16px}
  .products-grid{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));}

  /* Card */
  .card{background:var(--card); padding:12px; border-radius:10px; overflow:hidden; border:1px solid rgba(255,255,255,0.02)}
  .card img{height:260px; width:100%; object-fit:cover; border-radius:8px}
  .card .meta{display:flex; justify-content:space-between; align-items:flex-start; margin-top:12px}
  .price{font-weight:700}

  /* Product detail */
  .product-detail{display:grid; grid-template-columns:1fr 1fr; gap:20px}
  .product-media{background:#111112; padding:12px; border-radius:10px}
  .product-actions{background:transparent}
  .select, .input { width:100%; padding:10px; border-radius:8px; background:#0f0f10; border:1px solid #2b2b2d; color:var(--white;); }

  /* Cart / Checkout */
  .cart-list{display:flex; flex-direction:column; gap:12px}
  .cart-item{display:flex; gap:12px; align-items:center; background:#111112; padding:12px; border-radius:10px}
  .cart-item img{width:84px;height:84px; object-fit:cover; border-radius:8px}
  .aside{background:#111112; padding:16px; border-radius:10px}

  /* Footer */
  footer{background:#000; color:var(--muted); padding:28px 20px; margin-top:24px}
  footer .foot-wrap{max-width:1100px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;gap:16px}
  .small{font-size:13px; color:var(--muted)}

  /* Utilities */
  .muted{color:var(--muted)}
  .pill{display:inline-block;background:#111112;padding:6px 10px;border-radius:999px;font-weight:700}

  /* Responsive */
  @media (max-width:900px){
    .hero{flex-direction:column}
    .hero-right{width:100%}
    .product-detail{grid-template-columns:1fr}
  }
</style>
</head>
<body>

<!-- Announcement -->
<div class="announce">Free Shipping on All Orders Over ₹1999</div>

<!-- Header -->
<header>
  <div class="nav">
    <div style="display:flex;align-items:center;gap:18px;">
      <div class="brand">VELIN WEAR</div>
      <nav class="nav-links" aria-label="Main navigation">
        <a href="#home">Home</a>
        <a href="#collections">Collections</a>
        <a href="#faq">FAQs</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>

    <div style="display:flex;align-items:center;gap:12px;">
      <button class="icon-btn" id="open-cart" title="Open cart" aria-label="Open cart">
        <!-- shopping bag icon (inline SVG lucide-like) -->
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden focusable="false">
          <path d="M6 2l1 3h10l1-3" stroke="#cbd5e1" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>
          <path d="M6 8h12l-1 12H7L6 8z" stroke="#cbd5e1" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>
          <path d="M10 12v4" stroke="#cbd5e1" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>
        </svg>
        <span class="cart-count" id="cart-count">0</span>
      </button>
    </div>
  </div>
</header>

<!-- App -->
<main class="container" id="app">

  <!-- Content is rendered by JS (SPA). A minimal initial skeleton here for bots / noscript users -->
  <section class="hero" id="hero-section">
    <div class="hero-left">
      <h1 class="hero-title">ELEVATE YOUR BASICS</h1>
      <p class="hero-sub">Discover our collection of premium t-shirts, crafted for comfort and timeless style.</p>
      <div class="cta-group">
        <button class="btn" onclick="location.hash='home'">Shop Men's</button>
        <button class="btn secondary" onclick="location.hash='home'">Shop Women's</button>
      </div>
    </div>
    <div class="hero-right">
      <!-- embedded SVG hero image (base64 not necessary for SVG) -->
      <svg class="hero-img" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Velin collection">
        <defs>
          <linearGradient id="g" x1="0" x2="1">
            <stop offset="0" stop-color="#111215"/>
            <stop offset="1" stop-color="#27272a"/>
          </linearGradient>
        </defs>
        <rect width="100%" height="100%" fill="url(#g)"/>
        <g transform="translate(40,30)" fill="#f8fafc" opacity="0.06">
          <rect x="0" y="0" width="200" height="300" rx="14"/>
          <rect x="220" y="0" width="200" height="300" rx="14"/>
          <rect x="440" y="0" width="200" height="300" rx="14"/>
        </g>
        <text x="50%" y="72%" fill="#e6edf3" font-size="28" font-weight="700" text-anchor="middle">Velin Wear Collection</text>
      </svg>
    </div>
  </section>

  <!-- Product and sections rendered by JavaScript -->
  <div id="page-root"></div>

</main>

<!-- Footer -->
<footer>
  <div class="foot-wrap">
    <div class="small">&copy; <span id="year"></span> Velin Wear (A unit of ANUJ FASHION). All Rights Reserved.</div>
    <div class="small">Privacy · Terms</div>
  </div>
</footer>

<!-- Full JS app embedded -->
<script>
/* ========= Single-file SPA eCommerce (fully embedded) =========
   - Products use embedded SVG placeholders (small, offline-friendly)
   - Cart + Orders stored in localStorage
   - Demo checkout (no real payments)
   - All icons are inline SVG
================================================================ */

(function(){
  // ------- Product data (all embedded) -------
  const PRODUCTS = [
    {
      id: 'p1',
      title: 'Velin Signature Crew',
      price: 499,
      sku: 'VEL-SIG-001',
      desc: 'Premium midweight cotton crewneck — soft hand, modern fit.',
      imgSVG: makeProductSVG('Velin Signature Crew', '#111113', '#e6edf3'),
      colors: ['White','Black','Navy'],
      sizes: ['S','M','L','XL']
    },
    {
      id: 'p2',
      title: 'Heavyweight Oversized Tee',
      price: 699,
      sku: 'VEL-HWV-002',
      desc: '240 GSM heavyweight tee for structure and longevity.',
      imgSVG: makeProductSVG('Heavyweight Oversized Tee', '#0f1724', '#f8fafc'),
      colors: ['Grey','Stone'],
      sizes: ['M','L','XL','XXL']
    },
    {
      id: 'p3',
      title: 'Essential V-Neck',
      price: 449,
      sku: 'VEL-VNK-003',
      desc: 'Lightweight essentials with a clean V neckline.',
      imgSVG: makeProductSVG('Essential V-Neck', '#131316', '#f1f5f9'),
      colors: ['White','Burgundy'],
      sizes: ['S','M','L']
    },
    {
      id: 'p4',
      title: 'Heritage Graphic Tee',
      price: 599,
      sku: 'VEL-HER-004',
      desc: 'Graphic tee printed on premium combed cotton.',
      imgSVG: makeProductSVG('Heritage Graphic Tee', '#0b0b0c', '#e2e8f0'),
      colors: ['Black'],
      sizes: ['M','L','XL']
    }
  ];

  // Small helper to generate an inline SVG data URL for placeholders
  function makeProductSVG(text, bg, fg){
    const w = 800, h = 1000;
    const escaped = text.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;');
    const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}' viewBox='0 0 ${w} ${h}' role='img' aria-label='${escaped.replace(/'/g,"")}'><rect width='100%' height='100%' rx='20' fill='${bg}'/><g transform='translate(0,120)'><rect x='80' y='0' width='640' height='560' rx='18' fill='#111111' opacity='0.6'/><text x='50%' y='820' font-family='Inter,Helvetica,Arial' font-weight='700' font-size='44' fill='${fg}' text-anchor='middle'>${escaped}</text></g></svg>`;
    return 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svg)));
  }

  // ------- Local Storage keys -------
  const CART_KEY = 'velin_cart_v1';
  const ORDERS_KEY = 'velin_orders_v1';

  // ------- Utilities -------
  function $(sel){ return document.querySelector(sel); }
  function $all(sel){ return Array.from(document.querySelectorAll(sel)); }
  function saveCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); updateCartUI(); }
  function loadCart(){ try{ return JSON.parse(localStorage.getItem(CART_KEY) || '[]'); }catch(e){ return []; } }
  function saveOrders(orders){ localStorage.setItem(ORDERS_KEY, JSON.stringify(orders)); }
  function loadOrders(){ try{ return JSON.parse(localStorage.getItem(ORDERS_KEY) || '[]'); }catch(e){ return []; } }
  function formatINR(n){ return '₹' + Number(n).toLocaleString('en-IN'); }

  // ------- Cart operations -------
  function addToCart(item){
    const cart = loadCart();
    const existing = cart.find(i => i.id === item.id && i.size === item.size && i.color === item.color);
    if(existing) existing.qty += item.qty;
    else cart.push(item);
    saveCart(cart);
    alert('Added to cart');
  }
  function updateQty(index, qty){
    const cart = loadCart();
    cart[index].qty = Math.max(1, qty);
    saveCart(cart);
  }
  function removeFromCart(index){
    const cart = loadCart();
    cart.splice(index,1);
    saveCart(cart);
  }
  function cartTotal(){
    const cart = loadCart();
    return cart.reduce((s,i) => s + i.price * i.qty, 0);
  }

  // ------- UI: cart count -------
  function updateCartUI(){
    const count = loadCart().reduce((s,i)=>s+i.qty,0);
    const el = document.getElementById('cart-count');
    if(el) el.textContent = count;
  }

  // ------- Router & rendering -------
  function navigate(){
    const hash = (location.hash || '#home').replace('#','');
    const root = document.getElementById('page-root');
    if(!root) return;
    if(hash === '' || hash === 'home'){
      renderHome(root);
    } else if(hash.startsWith('product:')){
      const id = hash.split(':')[1];
      renderProduct(root, id);
    } else if(hash === 'cart'){
      renderCart(root);
    } else if(hash === 'checkout'){
      renderCheckout(root);
    } else if(hash.startsWith('order:')){
      const id = hash.split(':')[1];
      renderOrder(root, id);
    } else {
      renderHome(root);
    }
    window.scrollTo(0,0);
  }

  // ------- Renderers -------
  function renderHome(root){
    document.title = 'Velin Wear — Home';
    const html = `
      <section>
        <h2 class="section-title">Shop by Price</h2>
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px">
          <div class="card" style="display:flex;align-items:center;justify-content:center;height:160px;flex-direction:column">
            <div class="pill">FLAT ₹199</div>
            <div class="muted" style="margin-top:8px">Basics</div>
          </div>
          <div class="card" style="display:flex;align-items:center;justify-content:center;height:160px;flex-direction:column">
            <div class="pill">FLAT ₹299</div>
            <div class="muted" style="margin-top:8px">Core</div>
          </div>
          <div class="card" style="display:flex;align-items:center;justify-content:center;height:160px;flex-direction:column">
            <div class="pill">FLAT ₹399</div>
            <div class="muted" style="margin-top:8px">Graphics</div>
          </div>
        </div>
      </section>

      <section>
        <h2 class="section-title">New Arrivals</h2>
        <div class="grid products-grid">
          ${PRODUCTS.map(p => productCardHTML(p)).join('')}
        </div>
      </section>

      <section id="collections">
        <h2 class="section-title">Shop by Style</h2>
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px">
          <div class="card"><div style="height:140px;background:#101012;border-radius:8px;display:flex;align-items:center;justify-content:center">Oversized</div></div>
          <div class="card"><div style="height:140px;background:#101012;border-radius:8px;display:flex;align-items:center;justify-content:center">Graphics</div></div>
          <div class="card"><div style="height:140px;background:#101012;border-radius:8px;display:flex;align-items:center;justify-content:center">Core Basics</div></div>
          <div class="card"><div style="height:140px;background:#101012;border-radius:8px;display:flex;align-items:center;justify-content:center">Slim Fit</div></div>
        </div>
      </section>

      <section id="faq">
        <h2 class="section-title">Frequently Asked Questions</h2>
        <div style="display:grid;gap:8px;">
          <details class="card"><summary style="font-weight:700">What are your t-shirts made from?</summary><div style="margin-top:8px;color:var(--muted)">Premium long-staple cotton. Heavyweight tees use 240 GSM for a structured, premium feel.</div></details>
          <details class="card"><summary style="font-weight:700">How do I find my correct size?</summary><div style="margin-top:8px;color:var(--muted)">Compare a favourite tee to our size guide (chest & length). If in doubt size up for an oversized fit.</div></details>
          <details class="card"><summary style="font-weight:700">How long does shipping take?</summary><div style="margin-top:8px;color:var(--muted)">Processing 1–2 business days. Metro shipping 2–4 days, other locations 5–7 days within India.</div></details>
        </div>
      </section>
    `;
    root.innerHTML = html;
    attachProductLinks();
  }

  function productCardHTML(p){
    return `
      <article class="card">
        <a href="#product:${p.id}" aria-label="${escapeHtml(p.title)}">
          <img src="${p.imgSVG}" alt="${escapeHtml(p.title)}" />
          <div class="meta">
            <div>
              <div style="font-weight:700">${escapeHtml(p.title)}</div>
              <div class="muted" style="font-size:13px;margin-top:6px">${escapeHtml(p.desc)}</div>
            </div>
            <div class="price">${formatINR(p.price)}</div>
          </div>
        </a>
      </article>
    `;
  }

  function renderProduct(root, id){
    const p = PRODUCTS.find(x=>x.id===id);
    if(!p){ root.innerHTML = '<p>Product not found</p>'; return; }
    document.title = p.title + ' — Velin Wear';
    const html = `
      <section class="product-detail">
        <div class="product-media card">
          <img src="${p.imgSVG}" alt="${escapeHtml(p.title)}" />
        </div>
        <div style="display:flex;flex-direction:column;gap:12px">
          <div>
            <h2 style="margin:0;font-size:20px;font-weight:800">${escapeHtml(p.title)}</h2>
            <div class="muted" style="margin-top:8px">${escapeHtml(p.desc)}</div>
            <div style="margin-top:8px;font-weight:800;font-size:20px">${formatINR(p.price)}</div>
          </div>

          <div class="product-actions">
            <div style="margin-top:12px">
              <label class="muted">Size</label>
              <select id="sel-size" class="select" style="margin-top:8px">${p.sizes.map(s=>`<option>${s}</option>`).join('')}</select>
            </div>

            <div style="margin-top:12px">
              <label class="muted">Color</label>
              <select id="sel-color" class="select" style="margin-top:8px">${p.colors.map(c=>`<option>${c}</option>`).join('')}</select>
            </div>

            <div style="margin-top:12px;display:flex;gap:8px;align-items:center">
              <label class="muted">Qty</label>
              <input id="sel-qty" type="number" min="1" value="1" class="input" style="width:80px;margin-left:8px"/>
            </div>

            <div style="margin-top:16px;display:flex;gap:10px">
              <button id="add-to-cart" class="btn">Add to cart</button>
              <a href="#cart" class="btn secondary" style="align-self:center">View Cart</a>
            </div>

            <div style="margin-top:16px;color:var(--muted);font-size:13px">SKU: ${escapeHtml(p.sku)} • Free returns within India</div>
          </div>
        </div>
      </section>
    `;
    root.innerHTML = html;

    document.getElementById('add-to-cart').addEventListener('click', () => {
      const size = document.getElementById('sel-size').value;
      const color = document.getElementById('sel-color').value;
      const qty = parseInt(document.getElementById('sel-qty').value,10) || 1;
      addToCart({ id: p.id, qty, size, color, price: p.price, title: p.title });
      location.hash = '#cart';
    });
  }

  function renderCart(root){
    document.title = 'Your Cart — Velin Wear';
    const cart = loadCart();
    if(cart.length === 0){
      root.innerHTML = `<section style="text-align:center;padding:40px"><h2 style="font-size:20px;font-weight:800">Your cart is empty</h2><p class="muted" style="margin-top:8px">Add items and come back here to checkout.</p><div style="margin-top:16px"><a href="#home" class="btn">Continue Shopping</a></div></section>`;
      return;
    }

    const itemsHtml = cart.map((it, idx) => {
      const p = PRODUCTS.find(x=>x.id===it.id) || {};
      return `
        <div class="cart-item">
          <img src="${p.imgSVG}" alt="${escapeHtml(it.title)}" />
          <div style="flex:1">
            <div style="display:flex;justify-content:space-between;align-items:start">
              <div>
                <div style="font-weight:700">${escapeHtml(it.title)}</div>
                <div class="muted" style="font-size:13px">Size: ${escapeHtml(it.size)} • Color: ${escapeHtml(it.color)}</div>
              </div>
              <div style="text-align:right">
                <div style="font-weight:800">${formatINR(it.price * it.qty)}</div>
                <div style="font-size:12px;color:var(--muted)">₹${it.price} x ${it.qty}</div>
              </div>
            </div>
            <div style="margin-top:8px;display:flex;gap:8px;align-items:center">
              <label class="muted">Qty</label>
              <input type="number" data-idx="${idx}" class="input qty-input" value="${it.qty}" style="width:72px"/>
              <button data-idx="${idx}" class="remove-btn" style="background:transparent;border:none;color:#ef4444;cursor:pointer">Remove</button>
            </div>
          </div>
        </div>
      `;
    }).join('');

    root.innerHTML = `
      <section style="display:grid;grid-template-columns:1fr 320px;gap:16px">
        <div>
          <h2 class="section-title">Shopping Cart</h2>
          <div class="cart-list">${itemsHtml}</div>
        </div>
        <aside class="aside">
          <div style="font-weight:800">Order Summary</div>
          <div style="margin-top:8px">Subtotal: <strong>${formatINR(cartTotal())}</strong></div>
          <div class="muted" style="margin-top:8px;font-size:13px">Shipping & taxes calculated at checkout.</div>
          <div style="margin-top:12px">
            <a href="#checkout" class="btn" style="display:block;text-align:center">Proceed to Checkout</a>
          </div>
        </aside>
      </section>
    `;

    // wire qty inputs and remove
    $all('.qty-input').forEach(inp => {
      inp.addEventListener('change', (e) => {
        const idx = Number(e.target.dataset.idx);
        const q = Math.max(1, parseInt(e.target.value,10) || 1);
        updateQty(idx, q);
        renderCart(root);
      });
    });
    $all('.remove-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const idx = Number(e.target.dataset.idx);
        if(confirm('Remove item from cart?')){ removeFromCart(idx); renderCart(root); }
      });
    });
  }

  function renderCheckout(root){
    document.title = 'Checkout — Velin Wear';
    const cart = loadCart();
    if(cart.length === 0){ location.hash = '#cart'; return; }

    const html = `
      <section style="display:grid;grid-template-columns:1fr 360px;gap:16px">
        <div>
          <h2 class="section-title">Shipping Details</h2>
          <form id="checkout-form" style="display:flex;flex-direction:column;gap:10px;background:#111112;padding:16px;border-radius:10px">
            <input name="name" placeholder="Full name" class="input" required/>
            <input name="email" placeholder="Email" class="input" type="email" required/>
            <input name="phone" placeholder="Phone" class="input" required/>
            <textarea name="address" placeholder="Address" rows="3" class="input" required></textarea>
            <input name="city" placeholder="City, State, Pincode" class="input" required/>
            <div style="margin-top:8px">
              <div style="font-size:13px;color:var(--muted)">Payment method (demo)</div>
              <label style="display:inline-flex;align-items:center;gap:8px;margin-top:8px"><input type="radio" name="payment_method" value="cod" checked/> Cash on Delivery (Demo)</label>
            </div>

            <div id="checkout-error" style="color:#fca5a5;display:none;margin-top:6px"></div>
            <button class="btn" type="submit" style="margin-top:8px">Place Order (Demo)</button>
          </form>
        </div>

        <aside class="aside">
          <h3 style="margin:0 0 10px 0;font-weight:800">Order Summary</h3>
          <div style="font-size:14px;color:var(--muted)">
            ${cart.map(i=>`<div style="display:flex;justify-content:space-between;margin-bottom:8px"><div>${escapeHtml(i.title)} x ${i.qty}</div><div>${formatINR(i.price*i.qty)}</div></div>`).join('')}
            <hr style="border:none;border-top:1px solid #1e1e20;margin:8px 0"/>
            <div style="display:flex;justify-content:space-between;font-weight:800">Subtotal <div>${formatINR(cartTotal())}</div></div>
            <div style="margin-top:8px;font-size:12px;color:var(--muted)">Shipping & taxes calculated at placement. (Demo)</div>
          </div>
        </aside>
      </section>
    `;
    root.innerHTML = html;

    const form = document.getElementById('checkout-form');
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const f = new FormData(form);
      const payload = {
        name: f.get('name'),
        email: f.get('email'),
        phone: f.get('phone'),
        address: f.get('address'),
        city: f.get('city'),
        payment_method: f.get('payment_method'),
        cart: loadCart(),
        total: cartTotal(),
        placed_at: new Date().toISOString()
      };
      if(!payload.name || !payload.email || !payload.address){
        const err = document.getElementById('checkout-error');
        err.style.display = 'block';
        err.textContent = 'Please fill required fields';
        return;
      }
      // create demo order and store locally
      const orderId = 'ORD' + Math.floor(Math.random() * 900000 + 100000);
      const orders = loadOrders();
      orders.push({ orderId, ...payload });
      saveOrders(orders);
      // clear cart
      localStorage.removeItem(CART_KEY);
      updateCartUI();
      // go to confirmation
      location.hash = '#order:' + orderId;
    });
  }

  function renderOrder(root, orderId){
    const orders = loadOrders();
    const order = orders.find(o => o.orderId === orderId);
    if(!order){ root.innerHTML = `<section style="padding:40px"><h2 style="font-weight:800">Order Not Found</h2></section>`; return; }
    document.title = 'Order Confirmation — Velin Wear';
    root.innerHTML = `
      <section style="text-align:center;padding:30px">
        <h2 style="font-size:20px;font-weight:800">Thank you — your order is placed!</h2>
        <p class="muted" style="margin-top:8px">Order ID: <strong>${order.orderId}</strong></p>
        <p class="muted" style="margin-top:8px">A confirmation will be sent to <strong>${escapeHtml(order.email)}</strong> (demo)</p>
        <div style="margin-top:16px;display:inline-block;text-align:left;background:#111112;padding:12px;border-radius:8px">
          <h3 style="margin:0 0 8px 0;font-weight:700">Order Summary</h3>
          ${order.cart.map(i => `<div style="display:flex;justify-content:space-between;margin-bottom:6px"><div>${escapeHtml(i.title)} x ${i.qty}</div><div>${formatINR(i.price*i.qty)}</div></div>`).join('')}
          <hr style="border:none;border-top:1px solid #1e1e20;margin:8px 0"/>
          <div style="display:flex;justify-content:space-between;font-weight:800">Total <div>${formatINR(order.total)}</div></div>
        </div>
        <div style="margin-top:16px"><a href="#home" class="btn">Continue Shopping</a></div>
      </section>
    `;
  }

  // ------- Small helpers -------
  function escapeHtml(s=''){ return (''+s).replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[m]; }); }

  // ------- Attach product links (delegated) -------
  function attachProductLinks(){
    // nothing else currently
  }

  // ------- Initial wiring -------
  window.addEventListener('hashchange', navigate);
  window.addEventListener('DOMContentLoaded', () => {
    document.getElementById('year').textContent = new Date().getFullYear();
    document.getElementById('open-cart').addEventListener('click', () => { location.hash = '#cart'; });
    updateCartUI();
    // initial route
    if(!location.hash) location.hash = '#home';
    navigate();
  });

})(); // end IIFE
</script>

</body>
</html>
